@namespace DComponent
@using System.Reflection;
@code {
    [CascadingParameter]
    protected TableStateHandler TableState { get; set; }
    //[Parameter]
    //public TableStateHandler TableState { get; set; }
    [Parameter]
    public RenderFragment HerderContext { get; set; }
    [Parameter]
    public RenderFragment<object> CommandContext { get; set; }
    [Parameter]
    public string Width { get; set; } = "200px";

    protected override void OnInitialized()
    {
        base.OnInitialized();
        if (!TableState.Columns.ContainsKey("CommandField"))
        {
            TableState.Columns.Add("CommandField", new Column
            {
                CType = ColumnType.O,
                CWidth = Width,
                HerderContext = HerderContext,
                CommandContext = CommandContext,
                EditMode = FieldEditMode.No
            });
        }

    }
}
