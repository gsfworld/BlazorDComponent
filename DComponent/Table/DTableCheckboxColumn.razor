@namespace DComponent
@code {
    [CascadingParameter]
    protected TableStateHandler TableState { get; set; }
    //[Parameter]
    //public TableStateHandler TableState { get; set; }
    [Parameter]
    public string FieldName { get; set; }
    [Parameter]
    public string Caption { get; set; }
    [Parameter]
    public string Width { get; set; } = "100px";
    [Parameter]
    public bool ShowFilter { get; set; } = true;
    [Parameter]
    public FieldEditMode EditMode { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        TableState.InitColumn(new Column
        {
            CType = ColumnType.C,
            Property = TableState.DataProps.First(v => v.Name == FieldName),
            CWidth = Width,
            CheckValue = "Y",
            UnCheckValue = "N",
            Caption = Caption,
            DataType = typeof(string),
            ShowFilter = ShowFilter,
            EditMode = EditMode
        });
    }
}
